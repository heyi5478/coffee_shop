import{m as _,_ as u,r as i,o as l,c as h,b as e,a,w as c,e as r,h as b,q as $,j as k,F as M}from"./index-9gRIAst2.js";import{t as m}from"./toastMessage-WvHTHcT-.js";import{T}from"./ToastMessages-pwTfdeSm.js";var R={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"makeacoffee",BASE_URL:"/coffee_shop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:V}=R,E={methods:{..._(m,["pushMessage"]),logout(){const o=`${V}/logout`;this.$http.post(o).then(t=>{this.pushMessage({style:"success",title:"登出狀態",content:t.data.message}),this.$router.push("/login")}).catch(t=>{this.pushMessage({style:"danger",title:"登出狀態",content:t.response.data.message})})}}},x={class:"position-relative"},N={class:"container d-flex flex-column"},A={class:"navbar navbar-expand-lg navbar-light"},D=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),L={class:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup"},y={class:"navbar-nav"},C=e("span",{class:"sr-only"},"(current)",-1);function I(o,t,n,v,p,d){const s=i("RouterLink");return l(),h("div",x,[e("div",N,[e("nav",A,[a(s,{class:"navbar-brand",to:"/"},{default:c(()=>[r("Navbar")]),_:1}),D,e("div",L,[e("div",y,[a(s,{class:"nav-item nav-link me-4 active",to:"/admin/products"},{default:c(()=>[r("產品列表 "),C]),_:1}),a(s,{class:"nav-item nav-link me-4",to:"/admin/orders"},{default:c(()=>[r("訂單")]),_:1}),a(s,{onClick:b(d.logout,["prevent"]),class:"nav-item nav-link me-4",to:"/login"},{default:c(()=>[r("登出")]),_:1},8,["onClick"])])])])])])}const U=u(E,[["render",I]]);var B={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"makeacoffee",BASE_URL:"/coffee_shop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:S}=B,w={components:{DNavbarComponent:U,ToastMessages:T},data(){return{status:!1}},methods:{..._(m,["pushMessage"])},created(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${o}`;const t=`${S}/api/user/check`;this.$http.post(t).then(n=>{this.pushMessage({style:"success",title:"成功登入",content:n.data.message}),this.status=!0}).catch(n=>{this.pushMessage({style:"danger",title:"錯誤訊息",content:n.response.data.message}),this.$router.push("/login")})}},O={class:"container-fluid mt-3 position-relative"},P=e("h2",null,"歡迎來到管理人介面",-1);function j(o,t,n,v,p,d){const s=i("DNavbarComponent"),f=i("ToastMessages"),g=i("RouterView");return l(),h(M,null,[a(s),e("div",O,[a(f),P,p.status?(l(),$(g,{key:0})):k("",!0)])],64)}const z=u(w,[["render",j]]);export{z as default};
