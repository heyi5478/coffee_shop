import{m as d,_ as u,r,o as l,c as h,b as e,a,w as c,e as i,h as $,q as b,j as k,F as M}from"./index-4QWGSY4L.js";import{t as m}from"./toastMessage--RSevvtP.js";import{T}from"./ToastMessages-T3F8JlCR.js";import{_ as R}from"./logo-3VEa--vB.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"makeacoffee",BASE_URL:"/coffee_shop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:x}=V,E={methods:{...d(m,["pushMessage"]),logout(){const o=`${x}/logout`;this.$http.post(o).then(t=>{this.pushMessage({style:"success",title:"登出狀態",content:t.data.message}),this.$router.push("/login")}).catch(t=>{this.pushMessage({style:"danger",title:"登出狀態",content:t.response.data.message})})}}},A={class:"position-relative"},D={class:"container d-flex flex-column"},N={class:"navbar navbar-expand-lg navbar-light"},y=e("img",{src:R,style:{height:"75px"},alt:""},null,-1),L=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),C={class:"collapse navbar-collapse justify-content-end",id:"navbarNavAltMarkup"},I={class:"navbar-nav"},U=e("span",{class:"sr-only"},"(current)",-1);function B(o,t,n,v,p,_){const s=r("RouterLink");return l(),h("div",A,[e("div",D,[e("nav",N,[a(s,{class:"navbar-brand",to:"/"},{default:c(()=>[y]),_:1}),L,e("div",C,[e("div",I,[a(s,{class:"nav-item nav-link me-4 active",to:"/admin/products"},{default:c(()=>[i("產品列表 "),U]),_:1}),a(s,{class:"nav-item nav-link me-4",to:"/admin/orders"},{default:c(()=>[i("訂單")]),_:1}),a(s,{onClick:$(_.logout,["prevent"]),class:"nav-item nav-link me-4",to:"/login"},{default:c(()=>[i("登出")]),_:1},8,["onClick"])])])])])])}const S=u(E,[["render",B]]);var w={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"makeacoffee",BASE_URL:"/coffee_shop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:O}=w,P={components:{DNavbarComponent:S,ToastMessages:T},data(){return{status:!1}},methods:{...d(m,["pushMessage"])},created(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${o}`;const t=`${O}/api/user/check`;this.$http.post(t).then(n=>{this.pushMessage({style:"success",title:"成功登入",content:n.data.message}),this.status=!0}).catch(n=>{this.pushMessage({style:"danger",title:"錯誤訊息",content:n.response.data.message}),this.$router.push("/login")})}},j={class:"container-fluid mt-3 position-relative"},F=e("h2",null,"歡迎來到管理人介面",-1);function H(o,t,n,v,p,_){const s=r("DNavbarComponent"),f=r("ToastMessages"),g=r("RouterView");return l(),h(M,null,[a(s),e("div",j,[a(f),F,p.status?(l(),b(g,{key:0})):k("",!0)])],64)}const K=u(P,[["render",H]]);export{K as default};
