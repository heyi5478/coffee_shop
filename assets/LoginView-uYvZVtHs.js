import{_ as f,t as g,e as n,a as v,c as b,f as a,b as s,y as w,v as d,x as p,F as x}from"./index-SuByKnbB.js";import{t as E}from"./toastMessage-ut8dy58C.js";import{T as L}from"./ToastMessages-yY8vsoQh.js";import{N as V,F as M}from"./FooterComponent-eaPZWwQJ.js";import"./cartStore-NSBVlkBQ.js";import"./logo-3VEa--vB.js";var T={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"makeacoffee",BASE_URL:"/coffee_shop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:y}=T,k={components:{NavbarComponent:V,FooterComponent:M,ToastMessages:L},data(){return{isLoading:!1,user:{}}},methods:{...g(E,["pushMessage"]),signIn(){const i=`${y}/admin/signin`;this.isLoading=!0,this.$http.post(i,this.user).then(e=>{const{token:r,expired:c}=e.data;document.cookie=`hexToken=${r};expires=${new Date(c)};`,this.isLoading=!1,this.$router.push("/admin/products"),this.pushMessage({title:"登入成功"})}).catch(e=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"登入失敗",content:e.response.data.message})})}}},C={class:"container mt-5 mb-5 text-center"},F={class:"col-md-6"},I=s("h1",{class:"h3 mb-3 font-weight-normal"},"管理員登入",-1),N={class:"mb-2"},P=s("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),D={class:"mb-2"},R=s("label",{for:"inputPassword",class:"sr-only"},"Password",-1),U=s("div",{class:"text-center mt-4"},[s("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"}," 登入 ")],-1);function B(i,e,r,c,o,l){const m=n("NavbarComponent"),u=n("VueLoading"),_=n("ToastMessages"),h=n("FooterComponent");return v(),b(x,null,[a(m),s("div",C,[a(u,{active:o.isLoading,"z-index":1060},null,8,["active"]),a(_),s("form",{class:"row justify-content-center",onSubmit:e[2]||(e[2]=w((...t)=>l.signIn&&l.signIn(...t),["prevent"]))},[s("div",F,[I,s("div",N,[P,d(s("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address","onUpdate:modelValue":e[0]||(e[0]=t=>o.user.username=t),required:"",autofocus:""},null,512),[[p,o.user.username]])]),s("div",D,[R,d(s("input",{type:"password",id:"inputPassword",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>o.user.password=t),placeholder:"Password",required:""},null,512),[[p,o.user.password]])]),U])],32)]),a(h)],64)}const z=f(k,[["render",B]]);export{z as default};
