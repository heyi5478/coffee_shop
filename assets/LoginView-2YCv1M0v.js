import{_ as g,t as b,e as n,a as v,c as w,f as a,b as s,y as x,v as d,x as m,F as y}from"./index-BLnubCSt.js";import{t as E}from"./toastMessage-zZuzxCg7.js";import{T as L}from"./ToastMessages-LQ4rH__i.js";import{N as V,F as M}from"./FooterComponent-nuibFpfj.js";import{_ as p}from"./banner2-Mt3HkC0w.js";import"./cartStore-M8yFbYQL.js";import"./logo-3VEa--vB.js";var T={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"makeacoffee",BASE_URL:"/coffee_shop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:k}=T,C={components:{NavbarComponent:V,FooterComponent:M,ToastMessages:L},data(){return{isLoading:!1,user:{}}},methods:{...b(E,["pushMessage"]),signIn(){const i=`${k}/admin/signin`;this.isLoading=!0,this.$http.post(i,this.user).then(e=>{const{token:r,expired:l}=e.data;document.cookie=`hexToken=${r};expires=${new Date(l)};`,this.isLoading=!1,this.$router.push("/admin/products"),this.pushMessage({title:"登入成功"})}).catch(e=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"登入失敗",content:e.response.data.message})})}}},F=s("div",{class:"position-relative mb-7 mb-md-9"},[s("img",{class:"d-lg-none d-block w-100 object-fit-cover",style:{height:"30vh"},src:p,alt:"banner"}),s("img",{class:"d-lg-block d-none w-100 object-fit-cover",style:{height:"80vh"},src:p,alt:"banner"}),s("h2",{class:"position-absolute translate-middle top-50 start-50 h2 fw-bold text-white pageBanner-text"}," 登入 ")],-1),I={class:"container mt-5 mb-5 text-center"},N={class:"col-md-6"},P=s("h1",{class:"h3 mb-3 font-weight-normal"},"管理員登入",-1),B={class:"mb-2"},D=s("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),R={class:"mb-2"},U=s("label",{for:"inputPassword",class:"sr-only"},"Password",-1),S=s("div",{class:"text-center mt-4"},[s("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"}," 登入 ")],-1);function j(i,e,r,l,t,c){const u=n("NavbarComponent"),h=n("VueLoading"),_=n("ToastMessages"),f=n("FooterComponent");return v(),w(y,null,[a(u),F,s("div",I,[a(h,{active:t.isLoading,"z-index":1060},null,8,["active"]),a(_),s("form",{class:"row justify-content-center",onSubmit:e[2]||(e[2]=x((...o)=>c.signIn&&c.signIn(...o),["prevent"]))},[s("div",N,[P,s("div",B,[D,d(s("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address","onUpdate:modelValue":e[0]||(e[0]=o=>t.user.username=o),required:"",autofocus:""},null,512),[[m,t.user.username]])]),s("div",R,[U,d(s("input",{type:"password",id:"inputPassword",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>t.user.password=o),placeholder:"Password",required:""},null,512),[[m,t.user.password]])]),S])],32)]),a(f)],64)}const J=g(C,[["render",j]]);export{J as default};
